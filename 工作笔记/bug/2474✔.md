# 标题
[[10/26]8G板子：切入新的商品更换该商品的视频文件后，待回到主页时前一个商品的缩略图不显示（是马赛克）。](http://intellyva-win/zentao/bug-view-2474.html)

# 问题类型
初始化问题/缩略图相关
# 产生原因

`CacheHelper` 初始化失败导致无法保存缩略图，具体讲是由于 `gCacheDir` 没有正确赋值，这种情况出现在 liveplayer 崩溃重启后，CacheHelper 没有通过 initialize 进行初始化，而是通过 getInstance 首先初始化了 gCacheHelper，而当调用 initialize 时如果判断到 gCacheHelper 已经初始化，则不会执行 gCacheHelper 的逻辑，导致 gCacheDir 没有初始化。

# 解决方案
把 `CacheHelper` 的初始化放到所有 service 的初始化之前
## CommitId
|branch|commit|
|---|---|
|master|[21507](http://intellyva:8088/c/intellyva/apks/liveplayer/+/21507)|
|release|[21528](http://intellyva:8088/c/intellyva/apks/liveplayer/+/21528)|
# 影响范围
所有缩略图相关操作失效。
# 问题总结
相同原因：[ [10/27][Smoke_024_商品切换] 长按商品左、右键调出的商品切换预览页都未有缩略图显示，是马赛克。](http://intellyva-win/zentao/bug-view-2482.html)