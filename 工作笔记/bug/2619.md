# 标题
[[12/20][云服务][功能严重异常]preview窗口同时有视频与相机画面时，2者都掉帧严重。--如视频。](http://intellyva-win/zentao/bug-view-2619.html)
# 问题日志

# 问题类型

# 产生原因
40 张宽高比为 720x1280 的 preview 画面，平均每张画面大小为 255150B = 249KB。

可以节省：
1. rendercore ComposeRenderer 目前返回 Bitmap，改为直接返回字节流
2. LiveServer Bitmap 转 bytes
3. LiveClient bytes 转 Bitmap
4. DirectorApi Bitmap 转 bytes

2024-01-04 与 donny 讨论结果：
windowImage 改为回调的方式，指定帧率读取，为其单独开辟一块 buffer，不阻塞主线程，提高渲染效率。同时，为了减少转换过程，传输将直接返回字节流，但是需要研究有没有把原始数据直接压缩成 jpg 或 png 字节流的方法。

# 解决方案

## CommitId
|branch|commit|
|---|---|
|master|[]()|
|release|[]()|
# 影响范围

# 问题总结