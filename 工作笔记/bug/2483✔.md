# 标题
[[10/27][Smoke_021_场景设定-旋转]接入USB 相机，进入控制UI打开抠图，LUT、锐化,然后在控制UI上连续快速点击旋转按钮，在点击的过程中控制UI突然消失。](http://intellyva-win/zentao/bug-view-2483.html)
# 问题日志

# 问题类型

# 产生原因
商品开启了循环播放，切换到的新商品 activeSourceUuid 如果为 ""，就会导致控制 ui 被隐藏。再加上之前增加了切换商品时清空上一个商品的 activeSourceUuid，因此在切换商品时大概率就会产生控制 ui 被隐藏的问题。

## activeSceneUuid 现状
1. 不存入数据库
2. 切换商品时，会清空上一个商品的 activeSourceUuid
3. 商品循环时，如果新商品的 activeSourceUuid 为空，则控制 ui 会被隐藏，即便用户正在操作

## 商品循环的逻辑
1. 只有存在视频的商品才支持循环
2. 当前商品的视频播放完成后，才会切换到下一个商品，也代表切换时间不固定。


# 解决方案
## 方案1（使用此方案）
控制 ui 出现时，暂停商品循环。

## 方案2
由于只有镜头是全局信源，因此如果商品循环时控制 ui 选中的是镜头，可以保证其不消失。但是除镜头外的其他信源因为无法在商品间共享，无法保证这点。
## CommitId
|branch|commit|
|---|---|
|master|[21466](http://intellyva:8088/c/intellyva/modules/previewprovider/+/21466)<br>[21467](http://intellyva:8088/c/intellyva/apks/preview_camera/+/21467)|
|release|[]()|
# 影响范围

# 问题总结